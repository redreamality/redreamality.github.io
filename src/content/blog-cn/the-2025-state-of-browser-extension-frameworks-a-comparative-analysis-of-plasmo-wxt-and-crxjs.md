---
title: '2025年浏览器扩展框架现状：Plasmo、WXT 和 CRXJS 的对比分析'
pubDate: 2025-09-03T08:44:51.236Z
description: '2025年的浏览器扩展开发生态呈现出日益复杂的特征，这种复杂性主要源于向 Manifest V3 (MV3) 的强制过渡以及跨浏览器API持续存在的不一致性。在这种充满挑战的环境中，一个明确的市场领导者已经出现。通过对可用框架、其功能集、开发者体验和生态健康的分析，**WXT** 已经确立了自己作为现代浏览器扩展开发绝对领先框架的地位。这一领先地位建立在卓越的开发者体验、强大而灵活的功能集、框架无关的架构提供广泛兼容性，以及最关键的、积极可靠的开源维护记录之上。'
author: 'Remy'
tags: ['browser-extension', 'frontend-development', 'WXT']
lang: 'zh'
translatedFrom: 'the-2025-state-of-browser-extension-frameworks-a-comparative-analysis-of-plasmo-wxt-and-crxjs'
---

# **2025年浏览器扩展框架现状：Plasmo、WXT 和 CRXJS 的对比分析**

## **第1部分：执行摘要**

### **1.1. 当前市场领导者**

2025年的浏览器扩展开发生态呈现出日益复杂的特征，这种复杂性主要源于向 Manifest V3 (MV3) 的强制过渡以及跨浏览器API持续存在的不一致性。在这种充满挑战的环境中，一个明确的市场领导者已经出现。通过对可用框架、其功能集、开发者体验和生态健康的分析，**WXT** 已经确立了自己作为现代浏览器扩展开发绝对领先框架的地位。这一领先地位建立在卓越的开发者体验、强大而灵活的功能集、框架无关的架构提供广泛兼容性，以及最关键的、积极可靠的开源维护记录之上。

### **1.2. 竞争者概览**

市场主要由三个关键参与者定义，每个都有独特的理念和取舍：

* **WXT：** 本报告建议绝大多数新开展的浏览器扩展项目使用 WXT。它在强大功能、架构灵活性和长期项目稳定性之间提供了最有效的平衡。其活跃社区和在大型生产级扩展中的成功采用，进一步巩固了其作为最稳健和最具生产力选择的地位。
* **Plasmo：** 一个强大的、高度约定式的框架，为 React 专家团队提供了出色的初始开发者体验。其 "扩展版 Next.js" 的理念提供了精简的、声明式的工作流程。然而，其长期可行性受到广泛质疑，社区对其维护状态以及依赖 Parcel 构建工具（在现代工具生态中已显落后）表示担忧。
* **CRXJS：** 一个轻量级且功能强大的 Vite 插件，而非完整框架。它在为内容脚本提供最佳热模块替换 (HMR) 的构建过程方面表现出色。CRXJS 是需要最大控制权并希望避免框架抽象的资深团队的理想选择。然而，随着 WXT 等完整框架也采用了相同的 Vite 技术并提供更完整的开箱即用方案，其价值主张正在减弱。

### **1.3. 关键战略重点**

本报告的一个核心发现是，浏览器扩展的技术领域已经成熟到领先框架之间的微小功能差异不如其各自开源生态系统的健康程度和活跃度重要。框架为新浏览器版本提供及时更新、修补安全漏洞以及紧跟 JavaScript 工具链演变的能力至关重要。因此，框架社区表现出的健康程度及其维护者的活跃度已成为技术选择中最重要的因素，直接影响长期项目风险和总拥有成本。

## **第2部分：现代浏览器扩展开发生态**

要充分理解现代扩展框架的价值主张，必须了解它们运行的复杂技术环境。三个主要挑战定义了当前领域：向 Manifest V3 的架构转变、持续的跨浏览器 API 碎片化，以及扩展核心组件固有的解耦性质。这些挑战共同提高了开发的基础复杂性，使得采用稳健的框架对于任何重大规模的项目几乎成为了必然选择。

### **2.1. 大势所趋：Manifest V3 (MV3)**

从 Manifest V2 到 Manifest V3 的过渡，主要由 Chrome 浏览器的 Google 主导，代表了扩展架构多年来的最重要范式转变。核心变化是用短生命周期的 service workers 取代持久的 background pages。在 MV2 下，background script 可以无限期运行，并在整个浏览器会话期间在内存中保持状态。在 MV3 下，service worker 是事件驱动的，浏览器可以随时终止它以节省资源，并不保证其持久性。

这种架构变化从根本上改变了扩展的设计方式。它迫使开发者采用无状态、事件驱动的模型，在 service worker 终止之前必须将任何关键信息持久化。这在管理应用程序状态、处理异步操作以及确保在 worker 重新激活时正确注册事件监听器方面引入了重大复杂性。向 MV3 的转变增强了浏览器性能和安全性，但也加重了开发者的架构负担，使现代框架提供的抽象比以往更有价值。

### **2.2. 跨浏览器兼容难题**

虽然 WebExtensions API 实现了一定程度的标准化，但由于微妙但关键的实现差异，多浏览器适配仍然是一个重大挑战。这些不一致分为几类：

* **API 命名空间：** Firefox 和 Safari 主要使用 `browser.*` 命名空间，这些 API 为异步操作返回 Promise。Chromium 浏览器（Chrome、Edge、Opera）历史上一直使用基于回调的 `chrome.*` 命名空间，尽管它们一直在逐步增加对 Promise 的支持。
* **功能可用性：** 整个 API 模块或 API 中的特定方法可能在一个浏览器中可用，但在另一个浏览器中不可用。例如，Firefox 通过 `contextualIdentities` API 支持容器标签，这是 Chrome 中不存在的功能。
* **行为表现差异：** 即使支持相同的 API，其行为也可能不同。一个典型的例子是内容脚本如何与宿主页面的 JavaScript 环境交互。Chrome 使用 "隔离环境" (Isolated World) 的概念来防止冲突，而 Firefox 采用称为 "Xray vision" 的不同安全模型。

手动管理这些差异需要大量的条件代码、polyfill 和特定于浏览器的构建配置。现代扩展框架的一个主要功能就是抽象这种复杂性，提供统一的 API，允许开发者"一次编写，随处部署"。

### **2.3. 扩展生命周期的复杂性**

浏览器扩展不是单一的应用程序，而是一组不同的、通常相互隔离的组件，这些组件必须相互通信才能正确运行。这些组件通常包括：

* **Background Service Worker：** 扩展的中心事件处理程序和状态管理器。
* **Popup UI：** 当用户点击扩展工具栏图标时显示的临时 HTML 页面。
* **Content Scripts：** 直接注入到网页中以读取或修改其内容的 JavaScript 和 CSS 文件。
* **Options Page：** 用于用户配置的持久 HTML 页面。

这些组件在不同的上下文中运行，不能直接调用函数或共享内存。所有通信必须通过消息传递系统进行，通常使用 `runtime.sendMessage` 和 `runtime.onMessage` API。管理这种异步通信，特别是涉及多个组件的复杂交互，通常会导致大量样板代码，并且容易出错。框架旨在通过提供更高级的消息传递 API 或其他状态管理方案来简化这个过程。MV3 生命周期管理、跨浏览器 API 碎片化和消息传递架构固有的复杂性，使得从头开始构建复杂的扩展程序变得低效且容易出错。框架不再是开发的奢侈品，而是构建可维护、可扩展和稳健扩展程序的战略必然选择。

## **第3部分：深入分析：Plasmo 框架**

Plasmo 框架将自己定位为"由黑客为黑客制作的开箱即用式浏览器扩展 SDK"，旨在为扩展开发提供类似于 Next.js 的开发体验。它建立在高度约定式的、声明式哲学之上，旨在最小化配置并加速开发，特别是对于 React 生态系统内的团队。

### **3.1. 架构深入探讨："扩展版 Next.js"**

Plasmo 的核心架构原则是抽象 `manifest.json` 文件。该框架不要求开发者手动配置入口点和权限，而是根据项目的文件结构自动生成清单。放置在特定目录中或按照约定命名的文件（例如，`popup.tsx`、`options.tsx`、`content.ts`、`background.ts`）会自动识别并连接到最终的扩展包中。这种声明式、基于文件的路由系统有意模仿了 Next.js，为 Web 开发者提供了熟悉的模式。

一个关键且具有差异性的架构决策是 Plasmo 使用了 **Parcel** 构建工具。虽然 Parcel 以其零配置方法而闻名，但这个选择与竞争对手 WXT 和 CRXJS 形成鲜明对比，后者已标准化的 Vite 工具链上。正如后文将讨论的，对 Parcel 的依赖已成为技术债务的重要来源，也是开发者社区关注的焦点。

### **3.2. 开发者体验 (DX)：约定化和精简**

Plasmo 专为 React 和 TypeScript 开发者设计，开箱即提供一流支持。开发工作流通过简单的脚手架命令启动：`pnpm create plasmo`，还可以通过标志包含 TailwindCSS 或 Supabase 等集成。

开发服务器提供实时重新加载功能。然而，其开发者体验的一个关键限制是，其高级热模块替换 (HMR) 功能几乎仅针对 React 进行了优化。使用 Vue 或 Svelte 的团队将无法体验到同等水平的开发效率，因为任何更改通常都会触发完整的扩展重新加载。

### **3.3. 核心功能和抽象**

Plasmo 的"开箱即用"特性体现在其丰富的内置功能和高级抽象中：

* **API 包装器：** 该框架包含自己的高级 API。Storage API 提供了一个简化的数据持久化接口，Messaging API 抽象了底层通信系统的复杂性。
* **Content Scripts UI (CSUI)：** 这是 Plasmo 最引人注目的功能之一。它提供了一种流线型方式，通过内容脚本直接在网页上呈现复杂的 UI 组件。至关重要的是，Plasmo 可以自动将这些 UI 包装在 Shadow DOM 中，隔离扩展的 CSS 与宿主页面的样式，有效防止样式冲突。
* **部署和发布：** Plasmo 生态系统还包括 Browser Platform Publisher (BPP) 等工具，这是一个可自动将扩展部署到各大网络商店的 GitHub Action。此外，Plasmo 还提供了名为 Itero TestBed 的商业 SaaS 产品，用于提供测试暂存环境。

### **3.4. 生态和可行性：值得引以为戒的案例**

尽管 Plasmo 在 GitHub 上拥有大量星标 (12.3k)，但其长期可行性却令人担忧。来自社区的证据表明，该项目并未得到主动维护。

WXT 的官方文档明确指出，Plasmo "似乎处于维护模式，几乎没有功能开发"。Reddit 等平台上的讨论也支持这一观点。由于在 Parcel 版本上严重滞后，导致其无法使用 TailwindCSS v4 等现代工具，且迁移成本极高。

这种情况呈现了一个经典的"好想法，风险执行"的困境。Plasmo 的声明式架构和强大抽象非常理想，但如果框架得不到持续维护，其价值将大打折扣。对于专业团队来说，采用 Plasmo 意味着要承担框架无法适配未来浏览器 API 更改或修补安全漏洞的实质性风险。

## **第4部分：深入分析：WXT 框架**

WXT 将自己定义为"下一代 Web 扩展框架"，大量借鉴了 Nuxt.js 以开发者为中心的哲学。其设计基于两个主要目标：提供一流的开发者体验 (DX) 并为所有主流浏览器提供统一支持。它目前已成为构建跨浏览器扩展的首选。

### **4.1. 架构深入探讨：受 Nuxt 启发且框架无关**

WXT 最重要的架构优势是它的 **前端框架不可知性**。与 Plasmo 深度绑定 React 不同，WXT 旨在与任何支持 Vite 插件的现代 UI 框架协同工作。它为 React、Vue、Svelte 和 SolidJS 提供了官方模块，这种灵活性使其具有极强的通用性和面向未来的适应能力。

在核心层，WXT 构建在 **Vite** 之上。这一选择带来了显著的性能优势，包括极快的开发服务器和由 Rollup 驱动的高度优化的生产构建。

### **4.2. 开发者体验 (DX)：一流的工具**

WXT 通过一系列功能最小化了开发摩擦：

* **基于文件的入口点：** 与 Plasmo 类似，但 WXT 允许在入口点文件内直接内联配置选项，提供了更细粒度的控制。
* **自动导入：** 受 Nuxt 启发的杀手锏功能。WXT 提供组件、钩子和实用函数的按需自动导入，显著提高了开发效率。
* **开发模式：** 为 UI 开发提供"闪电般快速的 HMR"，用户反响极佳。
* **CLI：** 强大的交互式命令行工具 `npx wxt@latest init` 让项目脚手架在几秒钟内完成。

### **4.3. 核心功能和抽象**

WXT 提供了一套全面的功能，解决了多浏览器开发的痛点：

* **统一的浏览器 API：** WXT 暴露了一个全局浏览器对象，作为底层 WebExtensions API 的包装器，自动处理 Chrome 和 Firefox 之间的命名空间差异。
* **全面的构建和发布：** 内置了为不同浏览器商店生成优化 ZIP 包的命令，并支持自动化上传和发布。
* **模块系统：** 支持创建可重用的模块，方便在多个扩展项目之间共享配置和代码。

### **4.4. 生态和可行性：活跃且蓬勃发展**

WXT 的可行性得到了广泛采用和活跃社区的有力支持。其官方展示了大量生产就绪的扩展，如拥有百万级用户的 "Eye Dropper"。

该项目在 GitHub 上（7.9k 星）非常活跃。更重要的是，其框架无关的设计使其能够轻松适应未来前端生态系统的趋势，而不受特定 UI 技术的约束。

## **第5部分：深入分析：CRXJS Vite 插件**

CRXJS 在生态系统中占有独特位置。它不是一个完整的框架，而是一个高度集中的 **Vite 插件**，专注于解决打包浏览器扩展的特定挑战。

### **5.1. 架构深入探讨：一个工具，而非框架**

CRXJS 的核心是弥合 Vite 开发服务器与浏览器扩展环境之间的差距。它坚持传统方法，将 `manifest.json` 作为唯一的入口定义来源。这种模式吸引了那些喜欢显式配置而非约定式"魔法"的开发者。

### **5.2. 开发者体验 (DX)：精简且不规范化**

CRXJS 的关键成就是实现了**内容脚本的真正热模块替换 (HMR)**。它能将更新后的代码注入实时网页而不刷新页面，保留了扩展状态。这对于重度依赖内容脚本的扩展来说是巨大的效率提升。

### **5.3. 核心功能**

CRXJS 专注于狭窄但关键的职责：Vite 集成、HMR 以及自动化声明 Web 可访问资源 (Web Accessible Resources)。它不提供 Storage 或 Messaging 的封装，开发者需要直接调用原生 API。

### **5.4. 生态和可行性：担忧的迹象**

该项目的维护状态一直是社区关注点，曾经历过长时间的停滞。虽然新的维护者团队接管并发布了 2.0 版本，但其不稳定的历史可能让企业级项目产生迟疑。

目前，CRXJS 的利基空间正在被 WXT 等框架吸收，因为后者在提供同等构建优势的同时，还提供了更多高价值的运行时抽象。

## **第6部分：比较分析：正面评估**

WXT、Plasmo 和 CRXJS 的对比揭示了清晰的层次。WXT 始终提供最全面且支持最好的功能集。

### **6.1. 详细功能矩阵**

| 功能类别 | 功能 | WXT | Plasmo | CRXJS |
| :---- | :---- | :---- | :---- | :---- |
| **项目健康** | **主动维护** | ✅ | 🟡¹ | 🟡² |
|  | **GitHub 星标** | 7.9k | 12.3k | 3.5k |
| **开发者体验** | **一流 TypeScript** | ✅ | ✅ | ✅ |
|  | **入口点发现** | ✅ (基于文件) | ✅ (基于文件) | ❌³ |
|  | **内联入口点配置** | ✅ | ✅ | ❌ |
|  | **自动导入** | ✅ | ❌ | ❌ |
|  | **可重用模块系统** | ✅ | ❌ | ❌ |
|  | **支持所有 UI 框架** | ✅ | 🟡⁴ | ✅ |
| **构建工具** | **底层构建器** | Vite | Parcel | Vite |
|  | **创建扩展 ZIP** | ✅ | ✅ | ❌ |
|  | **创建 Firefox 源码 ZIP** | ✅ | ❌ | ❌ |
|  | **自动化发布** | ✅ | ✅ | ❌ |
| **开发模式** | **UI HMR** | ✅ | 🟡⁵ | ✅ |
|  | **内容脚本 HMR** | 🟡⁶ | 🟡⁶ | ✅ |
| **API 封装** | **Storage API** | ✅ | ✅ | ❌⁷ |
|  | **Messaging API** | ❌⁷ | ✅ | ❌⁷ |
|  | **国际化 (i18n)** | ✅ | ❌ | ❌ |

¹ 维护活跃度存疑，依赖项过时。
² 经历过维护断档，现已恢复。
³ 需在 manifest.json 中手动配置。
⁴ React 支持最佳，其他较差。
⁵ 仅 React 支持。

### **6.2. 关键差异化因素分析**

* **维护和可行性：** WXT 在这方面展现了无可比拟的优势。Plasmo 的维护瓶颈和过时的 Parcel 依赖引入了重大风险。
* **开发者体验：** WXT 的**自动导入**是提升生产力的杀手锏。CRXJS 虽然在内容脚本 HMR 上领先，但在其他 DX 功能上明显缺失。
* **抽象级别：** WXT 和 Plasmo 提供"全家桶"式体验，而 CRXJS 要求开发者"自带抽象"。

## **第7部分：性能与构建工具：Vite vs. Parcel**

构建器的效率直接影响开发反馈循环和生产包体积。

### **7.2. Vite (WXT, CRXJS)：速度为王**

Vite 利用原生 ESM 和 esbuild 实现了极快的冷启动和 HMR。这种技术对齐确保了这些框架始终处于 Web 开发的最前沿。

### **7.3. Parcel (Plasmo)：简单性的代价**

Parcel 虽然强调零配置，但在项目复杂后性能下降明显。Plasmo 在 Parcel 版本上的滞后进一步阻碍了其利用最新的性能优化。

## **第8部分：战略建议：项目原型建议**

| 项目需求 | WXT | Plasmo | CRXJS |
| :---- | :---- | :---- | :---- |
| **团队背景** | | | |
| React 重度团队 | **优秀** | **一般** (风险高) | **可行** |
| 其他框架团队 | **优秀** | **差** | **可行** |
| **项目规模** | | | |
| 小型原型 / MVP | **优秀** | **好** | **好** |
| 企业级套件 | **优秀** | **差** (风险高) | **差** |

### **8.2. 场景分析**

* **场景 A：企业级 React 团队**
  * **建议：WXT。** 主动维护和在大规模应用中的稳定性是其首选理由。
* **场景 B：初创团队 / 个人开发者**
  * **建议：WXT。** 丰富的内置抽象能显著减少样板代码，加速产品上线。
* **场景 C：多框架代理机构**
  * **建议：WXT。** 框架无关性允许机构统一技术栈，同时满足不同客户的 UI 偏好。
* **场景 D：性能发烧友 / 极致控制欲**
  * **建议：CRXJS。** 提供最小的框架抽象，给予开发者完全的掌控力。

## **第9部分：结论**

**WXT 是 2025 年几乎所有新浏览器扩展项目的最优选。** 它成功融合了现代 Vite 架构与卓越的开发者体验，并拥有健康的社区生态。

虽然 Plasmo 曾拥有辉煌的愿景，但其目前的维护状态使其风险过高。CRXJS 虽有特定优势，但其核心价值正逐渐被更全面的框架所覆盖。

---

#### **参考文献**

1. WXT: Next-gen Web Extension Framework, accessed Sept 2025, [https://wxt.dev/](https://wxt.dev/)
2. Plasmo Framework Documentation, accessed Sept 2025, [https://docs.plasmo.com/](https://docs.plasmo.com/)
3. CRXJS Vite Plugin, accessed Sept 2025, [https://crxjs.dev/](https://crxjs.dev/)
4. Vite vs Parcel: A Comparative Analysis, Better Stack, 2025.
5. "State of Extension Development 2025", Reddit Discussions.
