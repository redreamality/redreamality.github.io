---
title: "如何定义波段？"
description: "波段不是“天生就在那里”的东西，它其实是一套把噪声过滤成转折点的规则"
date: 2026-01-07
tags: ["量化交易", "波段", "价格行为", "市场结构", "信号处理", "波动率"]
lang: "ja"
translatedFrom: "how-to-define-a-swing"
---


# 如何定义波段？

“波段”这个词听起来很直观：价格往上走一段，再往下走一段，这不就是一个波段吗？但你只要把问题往深里问一句——“那到底多大才算一段？多小算噪声？”——你就会发现波段根本没有统一答案。

所以更诚实、也更适合量化交易的说法是：

**波段不是一个客观存在的固定形状，它是一套过滤规则：把连续、嘈杂的价格路径，压缩成一串“有意义的转折点”。**

你定义波段的过程，其实就是在做信号处理：决定哪些波动算信号，哪些波动当噪声。

## 1）先搞清楚你想要什么：你要的是“骨架”，不是每一个抖动

原始价格像一条乱线，任何一个点你都能解释，但那样交易会非常痛苦：你会频繁进出、被点差磨损、被噪声洗掉。

定义波段的目的，是把图表简化成一副更清晰的“骨架”：

向上推进的腿（上升波段）、向下回撤的腿（回撤波段），以及两者之间的拐点（波段高低点）。

有了拐点，你才能进一步谈“结构”“趋势”“破位”“震荡区间”，而不只是盯着K线一根根抖。

## 2）一个可落地的波段定义，通常需要两类规则：转向规则 + 有效性规则

大多数波段定义都绕不开两件事：

第一，**转向规则**：你怎么确认“真的转向了”？第二，**有效性规则**：这个移动要多大才算“值得记一笔”？

如果没有有效性规则，你会把很多微小抖动都当波段；如果没有转向规则，你在实时过程中会不断“改口”，波段会反复重画。

## 3）常见的波段定义方法（我用尽量口语的方式解释）

### A）分形/拐点法（N根K线确认）

很常见的做法是：

把“波段高点”定义成一个高点，它要比左右各N根K线的高点都高；“波段低点”类似。

口语解释就是：**一个点只有在“之后一段时间都没被超越”时，才算真正的拐点。**

优点是简单、逻辑清晰；缺点也明显：它天然滞后，因为你得等“未来的N根K线”来确认。

### B）ZigZag/百分比阈值法

你可以规定：价格往一个方向走了X%，且之后反向回撤超过X%，才算形成一个波段。

口语解释就是：**小于X%的抖动统统忽略，只保留更大级别的波。**

优点是直观；缺点是X%在不同波动率环境里意义不同：同样是1%，在低波动市场是大事，在高波动市场是日常。

### C）ATR（波动率自适应阈值）

为了避免“固定百分比在不同市场不通用”，很多量化会用ATR（平均真实波幅）来做尺度。

你可以规定：一段移动要达到K倍ATR才算有效。

这里也顺便解释下ATR：它就是一个简单的“波动率指标”，反映最近一段时间单根K线平均能走多大范围。用ATR当尺子，等于让波段定义跟着市场的“呼吸”变大变小。

优点是自适应；缺点是你仍然要选K，而且ATR本身是平滑值，会有延迟。

### D）结构失效法（用“破掉关键点”来结束一个波段）

还有一种更贴近结构交易的定义：

你把一个上升波段视为“持续进行”，直到价格跌破前一个关键低点；下跌波段类似。

口语解释：**市场用“打破之前的防线”告诉你，这段波结束了。**

优点是和“结构/趋势”天然兼容；缺点是底层依然需要一个“关键点怎么选”的规则，否则还是没法落地。

## 4）波段一定是周期相关的，这是设计使然，不是矛盾

很多人会纠结：1小时图上明明是一个波段，为什么日线图上看起来只是几根小K线？

这不是矛盾，这是分辨率不同。你把图缩放一下就明白：更大周期的每一根K线，内部都是很多小周期波动拼出来的。

更“量化”的说法是：

你先选一个采样周期（比如15分钟、1小时、1天），再选一个过滤尺度（N根K线、K倍ATR、X%阈值），然后提取拐点。你改了其中任何一个参数，“波段”这件事就被你重新定义了。

## 5）怎么选？不要问“哪个最对”，要问“哪个更符合你的优势和持仓周期”

如果你做的是震荡区间里的均值回归，你需要比较敏感的波段，能抓到短周期的来回摆动；如果你做的是趋势跟随，你需要更“钝”的波段，能忽略小回撤，只保留大腿。

所以比起追求一个所谓“正确”的波段定义，更有用的三个问题是：

你想交易的持仓周期大概多长？你愿意承受多大的回撤，换取更早的信号？你希望信号更早（噪声更多）还是更确认（滞后更多）？

波段说到底是工具。一个好的波段定义，不是看起来多漂亮，而是能让你的结构描述一致、回测表现稳定、执行成本可控。

## 6）一个经常被忽略的细节：实时识别 vs 事后标注

很多人用软件画波段，会觉得“这个拐点很清楚”。但你要注意：很多波段算法在图上显示的是“事后回看”的结果，它默认你已经看到了后面的K线。

一旦进入实时交易，你会遇到一个很现实的问题：拐点只有在“之后没有再创新高/新低”时才成立，可你在当下并不知道未来会不会再创新高/新低。这就会带来两类风险：第一是信号会“重画”（你以为拐了，后来又被刷新）；第二是回测里不小心引入了未来信息（look-ahead bias）。

所以如果你做量化交易，建议你在定义波段时顺手问一句：这个拐点是在第几根K线之后才被确认的？确认延迟是多少？这份延迟对我的入场、止损和收益分布会造成什么影响？

把“确认延迟”也当成策略参数去对待，你对波段的理解就会更接近真实交易，而不是更接近一张事后看起来很漂亮的图。
